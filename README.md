# java-lotto-precourse
# **로또 발매기 구현 명세서**

## **기능 개요**

본 프로그램은 사용자에게 로또 티켓을 판매하고, 당첨 번호와 사용자가 구매한 로또 번호를 비교하여 당첨 여부를 알려주는 간단한 로또 발매기입니다. 또한, 수익률을 계산하여 결과를 출력합니다.

---

## **기능 요구 사항**

1. **로또 번호 범위**: 1부터 45까지의 숫자를 사용합니다.
2. **로또 번호 발행**:
    - 한 장의 로또 티켓에는 중복되지 않는 6개의 숫자를 포함해야 합니다.
3. **당첨 번호 추첨**:
    - 중복되지 않는 6개의 당첨 번호와 1개의 보너스 번호를 사용합니다.
4. **당첨 기준 및 상금**:
    - 1등: 6개 번호 일치 - 상금 2,000,000,000원
    - 2등: 5개 번호 + 보너스 번호 일치 - 상금 30,000,000원
    - 3등: 5개 번호 일치 - 상금 1,500,000원
    - 4등: 4개 번호 일치 - 상금 50,000원
    - 5등: 3개 번호 일치 - 상금 5,000원
5. **로또 구매**:
    - 사용자가 입력한 금액에 맞추어 구매한 만큼의 로또를 발행합니다.
    - 한 장당 1,000원의 가격으로 판매합니다.
6. **당첨 번호 및 보너스 번호 입력**:
    - 사용자로부터 쉼표(,)로 구분된 6개의 당첨 번호와 1개의 보너스 번호를 입력받습니다.
7. **결과 출력**:
    - 발행한 로또 티켓 수량과 번호를 오름차순으로 정렬하여 출력합니다.
    - 사용자가 구매한 로또 번호와 당첨 번호를 비교하여 당첨 내역을 출력합니다.
    - 최종 수익률을 계산하여 출력합니다.
8. **예외 처리**:
    - 올바르지 않은 입력 시 `IllegalArgumentException`을 발생시키고 "[ERROR]"로 시작하는 에러 메시지를 출력합니다.
    - 금액 입력 오류(예: 1,000원으로 나누어떨어지지 않는 경우), 로또 번호 범위 오류, 보너스 번호 오류, 중복 번호 오류 등을 처리합니다.

---

## **입출력 요구 사항**

### **입력**

1. **구입 금액 입력**: 구입 금액은 1,000원 단위로 입력받습니다.
2. **당첨 번호 입력**: 쉼표(,)로 구분된 6개의 당첨 번호를 입력받습니다.
3. **보너스 번호 입력**: 1개의 보너스 번호를 입력받습니다.

### **출력**

1. **발행된 로또 티켓 수량 및 번호**: 오름차순으로 정렬된 발행 로또 번호 리스트를 출력합니다.
2. **당첨 내역**: 당첨 기준별(3등 ~ 1등)로 일치한 개수와 해당 당첨금을 출력합니다.
3. **수익률 출력**: 총 수익률을 소수점 첫째 자리까지 계산하여 출력합니다.

---

## **클래스 설계**

### **1. Lotto 클래스**

- 로또 번호를 관리하는 클래스입니다. 각 로또 객체는 6개의 숫자를 가지고 있습니다.
- **필드**
    - `private final List<Integer> numbers`: 로또 번호 리스트 (크기 6).
- **생성자**
    - `public Lotto(List<Integer> numbers)`: `numbers` 리스트를 초기화하고 유효성 검사를 수행합니다.
- **유효성 검사**
    - `private void validate(List<Integer> numbers)`: 번호 개수가 6개가 아닐 경우 예외를 발생시킵니다.

### **2. LottoMachine 클래스**

- 로또 발행을 처리하는 클래스입니다.
- **메서드**
    - `public List<Lotto> generateLottoTickets(int amount)`: 구매한 금액에 해당하는 로또 티켓을 발행하고 리스트로 반환합니다.
    - `private List<Integer> generateSingleLotto()`: 중복되지 않는 6개의 번호로 구성된 로또 번호 리스트를 생성합니다.

### **3. WinningNumber 클래스**

- 당첨 번호와 보너스 번호를 관리하는 클래스입니다.
- **필드**
    - `private final List<Integer> winningNumbers`: 6개의 당첨 번호 리스트.
    - `private final int bonusNumber`: 보너스 번호.
- **생성자**
    - `public WinningNumber(List<Integer> winningNumbers, int bonusNumber)`: 당첨 번호와 보너스 번호를 초기화합니다.
- **유효성 검사**
    - 입력된 번호의 개수 및 범위를 검사하고, 유효하지 않은 경우 예외를 발생시킵니다.

### **4. ResultChecker 클래스**

- 당첨 결과와 수익률을 계산하고 출력하는 클래스입니다.
- **메서드**
    - `public Map<String, Integer> checkResults(List<Lotto> tickets, WinningNumber winningNumber)`: 각 티켓을 당첨 번호와 비교하여 당첨 결과를 계산하고, 결과를 매핑하여 반환합니다.
    - `public double calculateEarningsRate(int totalSpent, int totalPrize)`: 수익률을 계산하여 반환합니다.

---

## **예외 처리 규칙**

1. **잘못된 구입 금액**: 1,000원 단위로 나누어떨어지지 않는 경우 예외를 발생시킵니다.
    - `[ERROR] 구입 금액은 1,000원 단위로 입력해야 합니다.`
2. **로또 번호 범위 초과**: 1~45 사이의 번호가 아닌 경우 예외를 발생시킵니다.
    - `[ERROR] 로또 번호는 1부터 45 사이의 숫자여야 합니다.`
3. **보너스 번호 범위 초과**: 보너스 번호가 1~45 범위를 벗어날 경우 예외를 발생시킵니다.
    - `[ERROR] 보너스 번호는 1부터 45 사이의 숫자여야 합니다.`
4. **중복 번호**: 로또 번호나 당첨 번호에 중복된 번호가 있을 경우 예외를 발생시킵니다.
    - `[ERROR] 로또 번호는 중복될 수 없습니다.`

---

## **실행 흐름 예시**

1. **구입금액을 입력해 주세요.**
    - 입력: `8000`
2. **발행된 로또**
    - 출력:
        
        ```
        8개를 구매했습니다.
        [8, 21, 23, 41, 42, 43]
        [3, 5, 11, 16, 32, 38]
        ...
        
        ```
        
3. **당첨 번호를 입력해 주세요.**
    - 입력: `1,2,3,4,5,6`
4. **보너스 번호를 입력해 주세요.**
    - 입력: `7`
5. **당첨 통계**
    - 출력:
        
        ```
        당첨 통계
        ---
        3개 일치 (5,000원) - 1개
        4개 일치 (50,000원) - 0개
        ...
        총 수익률은 62.5%입니다.
        
        ```
